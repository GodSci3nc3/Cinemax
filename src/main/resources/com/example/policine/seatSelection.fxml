<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<AnchorPane xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.example.policine.controllers.SeatSelectionController"
            prefHeight="700.0" prefWidth="1200.0"
            style="-fx-background-color: #1a1a2e;">

    <!-- Header Section -->
    <VBox AnchorPane.topAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0"
          style="-fx-background-color: #16213e;" prefHeight="120.0">

        <HBox alignment="CENTER_LEFT" spacing="20.0">
            <padding>
                <Insets top="20.0" bottom="10.0" left="30.0" right="30.0" />
            </padding>

            <Button fx:id="btnVolver" text="← Volver"
                    style="-fx-background-color: transparent; -fx-text-fill: #ffffff; -fx-border-color: #444; -fx-border-radius: 5; -fx-padding: 8 16;"
                    onAction="#volverAtras"/>
        </HBox>

        <VBox alignment="CENTER" spacing="5.0">
            <Label fx:id="lblTituloPelicula" text="El Viaje del Héroe" textFill="#ffffff">
                <font>
                    <Font name="System Bold" size="24.0" />
                </font>
            </Label>

            <Label fx:id="lblDetallesFuncion" text="19:45 • Sala 2 • Hoy" textFill="#888888">
                <font>
                    <Font size="14.0" />
                </font>
            </Label>
        </VBox>
    </VBox>

    <!-- Main Content -->
    <HBox AnchorPane.topAnchor="120.0" AnchorPane.leftAnchor="30.0" AnchorPane.rightAnchor="30.0"
          AnchorPane.bottomAnchor="30.0" spacing="30.0">

        <!-- Left Section - Screen and Seats -->
        <VBox prefWidth="750.0" spacing="20.0">

            <!-- Screen -->
            <VBox alignment="CENTER" spacing="10.0">
                <Region prefHeight="40.0" prefWidth="600.0"
                        style="-fx-background-color: linear-gradient(to bottom, #333, #111); -fx-background-radius: 20;"/>
                <Label text="PANTALLA" textFill="#666666">
                    <font>
                        <Font name="System Bold" size="12.0" />
                    </font>
                </Label>
            </VBox>

            <!-- Seats Grid -->
            <VBox spacing="8.0" alignment="CENTER">
                <GridPane fx:id="seatsGrid" hgap="5.0" vgap="5.0" alignment="CENTER">
                </GridPane>
            </VBox>

            <!-- Legend -->
            <HBox alignment="CENTER" spacing="30.0">
                <VBox alignment="CENTER" spacing="5.0">
                    <Button prefWidth="25.0" prefHeight="25.0"
                            style="-fx-background-color: #4a90e2; -fx-background-radius: 3;"/>
                    <Label text="Disponible" textFill="#ffffff" style="-fx-font-size: 10px;"/>
                </VBox>

                <VBox alignment="CENTER" spacing="5.0">
                    <Button prefWidth="25.0" prefHeight="25.0"
                            style="-fx-background-color: #e74c3c; -fx-background-radius: 3;"/>
                    <Label text="Seleccionado" textFill="#ffffff" style="-fx-font-size: 10px;"/>
                </VBox>

                <VBox alignment="CENTER" spacing="5.0">
                    <Button prefWidth="25.0" prefHeight="25.0"
                            style="-fx-background-color: #666666; -fx-background-radius: 3;"/>
                    <Label text="Ocupado" textFill="#ffffff" style="-fx-font-size: 10px;"/>
                </VBox>

                <VBox alignment="CENTER" spacing="5.0">
                    <Button prefWidth="25.0" prefHeight="25.0"
                            style="-fx-background-color: #f39c12; -fx-background-radius: 3;"/>
                    <Label text="Premium/VIP" textFill="#ffffff" style="-fx-font-size: 10px;"/>
                </VBox>

                <VBox alignment="CENTER" spacing="5.0">
                    <Button prefWidth="25.0" prefHeight="25.0"
                            style="-fx-background-color: #9b59b6; -fx-background-radius: 3;"/>
                    <Label text="Accesibilidad" textFill="#ffffff" style="-fx-font-size: 10px;"/>
                </VBox>
            </HBox>

        </VBox>

        <!-- Right Section - Summary -->
        <VBox prefWidth="350.0" spacing="20.0"
              style="-fx-background-color: #16213e; -fx-background-radius: 10; -fx-padding: 25;">

            <Label text="Resumen de Selección" textFill="#ffffff">
                <font>
                    <Font name="System Bold" size="18.0" />
                </font>
            </Label>

            <!-- Selected Seats -->
            <VBox spacing="15.0">
                <Label text="Asientos Seleccionados" textFill="#ffffff">
                    <font>
                        <Font name="System Bold" size="14.0" />
                    </font>
                </Label>

                <ScrollPane fx:id="selectedSeatsPane" prefHeight="200.0"
                            style="-fx-background: transparent; -fx-background-color: transparent;">
                    <VBox fx:id="selectedSeatsContainer" spacing="8.0"/>
                </ScrollPane>
            </VBox>

            <!-- Discount Section -->
            <VBox spacing="10.0">
                <Label text="Aplicar Descuento" textFill="#ffffff">
                    <font>
                        <Font name="System Bold" size="14.0" />
                    </font>
                </Label>

                <TextField fx:id="txtCodigoDescuento" promptText="Código de descuento"
                           style="-fx-background-color: #2c3e50; -fx-text-fill: white; -fx-prompt-text-fill: #888; -fx-border-color: transparent; -fx-background-radius: 5;"/>
            </VBox>

            <!-- Price Summary -->
            <VBox spacing="8.0">
                <HBox>
                    <Label text="Subtotal:" textFill="#cccccc" HBox.hgrow="ALWAYS"/>
                    <Label fx:id="lblSubtotal" text="0.00" textFill="#ffffff">
                        <font>
                            <Font name="System Bold" size="14.0" />
                        </font>
                    </Label>
                </HBox>

                <HBox>
                    <Label text="Descuento:" textFill="#cccccc" HBox.hgrow="ALWAYS"/>
                    <Label fx:id="lblDescuento" text="-$0.00" textFill="#e74c3c">
                        <font>
                            <Font name="System Bold" size="14.0" />
                        </font>
                    </Label>
                </HBox>

                <Separator style="-fx-background-color: #444;"/>

                <HBox>
                    <Label text="Total:" textFill="#ffffff" HBox.hgrow="ALWAYS">
                        <font>
                            <Font name="System Bold" size="16.0" />
                        </font>
                    </Label>
                    <Label fx:id="lblTotal" text="0.00" textFill="#ffffff">
                        <font>
                            <Font name="System Bold" size="18.0" />
                        </font>
                    </Label>
                </HBox>
            </VBox>

            <!-- Continue Button -->
            <Button fx:id="btnContinuar" text="CONTINUAR AL CARRITO" prefWidth="300.0" prefHeight="45.0"
                    style="-fx-background-color: linear-gradient(to right, #4a90e2, #27ae60); -fx-text-fill: white; -fx-background-radius: 25; -fx-font-weight: bold; -fx-font-size: 14px;"
                    onAction="#continuarAlCarrito">
                <VBox.margin>
                    <Insets top="10.0" />
                </VBox.margin>
            </Button>

        </VBox>

    </HBox>

</AnchorPane>